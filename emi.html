<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Free EMI Calculator | Loan EMI, Interest & Total Payment</title>

<meta name="description" content="Free EMI calculator to calculate monthly loan EMI, total interest paid and total repayment amount. Ideal for home loan, car loan and personal loan planning.">
<meta name="keywords" content="free EMI calculator, loan EMI calculator India, home loan EMI">
<meta name="robots" content="index, follow">

<link rel="stylesheet" href="css/app.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<header>
  <h1>Free EMI Calculator</h1>
  <p>Calculate monthly EMI, total interest & total loan cost</p>
</header>

<div class="container controls">
  <div class="toggle" id="themeToggle">ðŸŒ™ Dark</div>
</div>

<div class="container">
  <div class="card">

    <label>Loan Amount (â‚¹)</label>
    <input type="range" id="loanRange" min="50000" max="10000000" step="50000">
    <input type="number" id="loanInput" value="750000">

    <label>Annual Interest Rate (%)</label>
    <input type="range" id="rateRange" min="5" max="20" step="0.1">
    <input type="number" id="rateInput" value="8.5">

    <label>Loan Tenure (Years)</label>
    <input type="range" id="yearsRange" min="1" max="30" step="1">
    <input type="number" id="yearsInput" value="4">

    <div class="result" id="result"></div>

    <canvas id="emiChart"></canvas>

    <div class="info-box">
      <h3>ðŸ’¡ Did You Know?</h3>
      <ul>
        <li>Even a 0.5% lower interest rate can save lakhs over long tenures.</li>
        <li>Shorter loan tenure drastically reduces total interest paid.</li>
        <li>Prepayments early in the loan period have maximum impact.</li>
      </ul>
    </div>

  </div>
</div>

<footer>
  Free calculator â€¢ Educational use only
</footer>

<script>
/* ---------- DARK MODE ---------- */
const themeBtn = document.getElementById("themeToggle");
themeBtn.onclick = () => {
  const root = document.documentElement;
  const dark = root.getAttribute("data-theme") === "dark";
  root.setAttribute("data-theme", dark ? "" : "dark");
  themeBtn.textContent = dark ? "ðŸŒ™ Dark" : "â˜€ï¸ Light";
};

/* ---------- INPUTS ---------- */
const loanR = loanRange, loanI = loanInput;
const rateR = rateRange, rateI = rateInput;
const yearR = yearsRange, yearI = yearsInput;

let chart;

/* ---------- BIND ---------- */
function bind(slider, input) {
  slider.oninput = () => { input.value = slider.value; calculate(); };
  input.oninput = () => { slider.value = input.value; calculate(); };
}

bind(loanR, loanI);
bind(rateR, rateI);
bind(yearR, yearI);

/* ---------- EMI LOGIC ---------- */
function calculate() {
  const P = +loanI.value;
  const r = (+rateI.value / 100) / 12;
  const n = +yearI.value * 12;

  const emi = (P * r * Math.pow(1+r, n)) / (Math.pow(1+r, n) - 1);
  const total = emi * n;
  const interest = total - P;

  result.innerHTML = `
    Monthly EMI: â‚¹${Math.round(emi).toLocaleString("en-IN")}<br>
    Total Interest: â‚¹${Math.round(interest).toLocaleString("en-IN")}<br>
    Total Amount Paid: â‚¹${Math.round(total).toLocaleString("en-IN")}
  `;

  if (chart) chart.destroy();

  chart = new Chart(emiChart, {
    type: "pie",
    data: {
      labels: ["Principal", "Interest"],
      datasets: [{
        data: [P, interest]
      }]
    }
  });
}

calculate();
</script>

</body>
</html>
